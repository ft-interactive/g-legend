!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3"),require("g-chartcolour")):"function"==typeof define&&define.amd?define(["exports","d3","g-chartcolour"],e):e(t.gLegend=t.gLegend||{},t.d3,t.gChartcolour)}(this,function(t,e,r){"use strict";r="default"in r?r.default:r,t.legend=function(){function t(t){if(o.length>1){let r=0;t.attr("id",function(t,e){return d+"-l"+e}),t.append("text").attr("id",(t,e)=>"t"+e).attr("x",1.5*s).attr("y",s/3).attr("class","chart-subtitle").text(function(t){return t}),"rect"===f?t.append("rect").attr("width",1.25*s).attr("height",s/1.5).attr("class","rects").attr("x",0).attr("y",-s/3).style("fill",t=>c(t)):"line"===f?t.append("line").attr("stroke",t=>c(t)).attr("x1",0).attr("x2",s).attr("y1",0).attr("y2",0).attr("class","lines"):"circ"===f&&t.append("circle").style("fill",t=>c(t)).attr("cx",s-s/2.5).attr("cy",0).attr("r",s/2.5).attr("class","circs"),t.attr("transform",function(t,n){if("hori"===u){console.log(s);var a=e.select("#"+d+"-l0").node().getBBox().height;if(n>0){var l=e.select("#"+d+"-l"+(n-1)).node().getBBox().width+s;console.log("width: "+l)}else l=0;return r+=l,console.log("legendyOffset: "+r),"translate("+r+","+a/2+")"}return"translate(0,"+n*s*1.2+")"})}e.selectAll("#legend").on("mouseover",n).call(e.drag().on("start",a).on("drag",l).on("end",i))}function n(){this.style.cursor="pointer"}function a(t){e.select(this).raise().classed("active",!0)}function l(t){e.select(this).attr("transform","translate("+e.event.x+", "+e.event.y+")")}function i(t){e.select(this).classed("active",!1)}let o=[];const c=e.scaleOrdinal().range(r.lineWeb).domain(o);let s=10,d="",u="hori",f="circ";return t.seriesNames=(e=>(o=e,t)),t.frameName=(e=>(d=e,t)),t.colourPalette=(e=>("social"===e||"video"===e?c.range(r.lineSocial):"webS"===e||"webM"===e||"webMDefault"===e||"webL"===e?"circ"===f||"line"===f?c.range(r.lineWeb):c.range(r.categorical_bar):"print"===e&&c.range(r.linePrint),t)),t.rem=(e=>e?(s=e,t):s),t.alignment=(e=>(u=e,t)),t.geometry=(e=>(f=e,t)),t},Object.defineProperty(t,"__esModule",{value:!0})});