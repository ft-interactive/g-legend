!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3"),require("g-chartcolour")):"function"==typeof define&&define.amd?define(["exports","d3","g-chartcolour"],e):e(t.gLegend=t.gLegend||{},t.d3,t.gChartcolour)}(this,function(t,e,r){"use strict";r="default"in r?r.default:r,t.legend=function(){function t(t){if(c.length>1){let r=0;t.attr("id",function(t,e){return d+"-l"+e}),t.append("text").attr("id",(t,e)=>"t"+e).attr("x",1.5*o).attr("y",o/3).attr("class","chart-subtitle").text(function(t){return t}),"rect"===f?t.append("rect").attr("width",1.25*o).attr("height",o/1.5).attr("class","rects").attr("x",0).attr("y",-o/3).style("fill",t=>s(t)):"line"===f?t.append("line").attr("stroke",t=>s(t)).attr("x1",0).attr("x2",o).attr("y1",0).attr("y2",0).attr("class","lines"):"circ"===f&&t.append("circle").style("fill",t=>s(t)).attr("cx",o-o/2.5).attr("cy",0).attr("r",o/2.5).attr("class","circs"),t.attr("transform",function(t,n){if("hori"===u){var a=e.select("#"+d+"-l0").node().getBBox().height;if(n>0)var i=e.select("#"+d+"-l"+(n-1)).node().getBBox().width+o;else i=0;return"translate("+(r+=i)+","+a/2+")"}return"translate(0,"+n*o*1.2+")"})}e.selectAll("#legend").on("mouseover",n).call(e.drag().on("start",a).on("drag",i).on("end",l)),t.selectAll(".chart-subtitle").each(function(t){e.select(this).attr("id",d+"legend")})}function n(){this.style.cursor="pointer"}function a(t){e.select(this).raise().classed("active",!0)}function i(t){e.select(this).attr("transform","translate("+e.event.x+", "+e.event.y+")")}function l(t){e.select(this).classed("active",!1)}let c=[];const s=e.scaleOrdinal().range(r.lineWeb).domain(c);let o=10,d="",u="hori",f="circ";return t.seriesNames=(e=>(c=e,t)),t.frameName=(e=>(d=e,t)),t.colourPalette=(e=>("social"===e||"video"===e?s.range(r.lineSocial):"webS"===e||"webM"===e||"webMDefault"===e||"webL"===e?"circ"===f||"line"===f?s.range(r.lineWeb):s.range(r.categorical_bar):"print"===e&&s.range(r.linePrint),t)),t.rem=(e=>e?(o=e,t):o),t.alignment=(e=>(u=e,t)),t.geometry=(e=>(f=e,t)),t},Object.defineProperty(t,"__esModule",{value:!0})});