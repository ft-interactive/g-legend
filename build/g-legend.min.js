!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("d3"),require("g-chartcolour")):"function"==typeof define&&define.amd?define(["exports","d3","g-chartcolour"],t):t(e.gLegend=e.gLegend||{},e.d3,e.gChartcolour)}(this,function(e,t,r){"use strict";r="default"in r?r.default:r,e.legend=function(){function e(e){if(c.length>1){let r=0;e.attr("id",(e,t)=>`${d}-l${t}`),e.append("text").attr("id",(e,t)=>`t${t}`).attr("x",1.5*o).attr("y",o/3).attr("class","chart-subtitle").text(e=>e),"rect"===f?e.append("rect").attr("width",1.25*o).attr("height",o/1.5).attr("class","rects").attr("x",0).attr("y",-o/3).style("fill",e=>s(e)):"line"===f?e.append("line").attr("stroke",e=>s(e)).attr("x1",0).attr("x2",o).attr("y1",0).attr("y2",0).attr("class","lines"):"circ"===f&&e.append("circle").style("fill",e=>s(e)).attr("cx",o-o/2.5).attr("cy",0).attr("r",o/2.5).attr("class","circs"),e.attr("transform",(e,a)=>{let n;if("hori"===u){const e=t.select(`#${d}-l0`).node().getBBox().height;return n=a>0?t.select(`#${d}-l${a-1}`).node().getBBox().width+o:0,r+=n,`translate(${r},${e/2})`}return`translate(0,${a*o*1.2})`})}t.selectAll("#legend").on("mouseover",a).call(t.drag().on("start",n).on("drag",l).on("end",i)),e.selectAll(".chart-subtitle").each(function(){t.select(this).attr("id",`${d}legend`)})}function a(){this.style.cursor="pointer"}function n(){t.select(this).raise().classed("active",!0)}function l(){t.select(this).attr("transform",`translate(${t.event.x}, ${t.event.y})`)}function i(){t.select(this).classed("active",!1)}let c=[],s=t.scaleOrdinal().range(r.lineWeb).domain(c),o=10,d="",u="hori",f="circ";return e.seriesNames=(t=>(c=t,e)),e.frameName=(t=>(d=t,e)),e.colourScale=(t=>t?(s=t,e):s),e.colourPalette=(t=>{if("social"===t||"video"===t)s.range(r.lineSocial);else if("webS"===t||"webM"===t||"webMDefault"===t||"webL"===t)"circ"===f||"line"===f?s.range(r.lineWeb):s.range(r.categorical_bar);else if("print"===t)s.range(r.linePrint);else if(t&&t.name&&"scale"===t.name)s=t;else if(void 0===t)return s;return e}),e.rem=(t=>t?(o=t,e):o),e.alignment=(t=>(u=t,e)),e.geometry=(t=>(f=t,e)),e},Object.defineProperty(e,"__esModule",{value:!0})});