!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3"),require("g-chartcolour")):"function"==typeof define&&define.amd?define(["exports","d3","g-chartcolour"],e):e(t.gLegend=t.gLegend||{},t.d3,t.gChartcolour)}(this,function(t,e,r){"use strict";r="default"in r?r.default:r,t.legend=function(){function t(t){if(c.length>1){let r=0;t.attr("id",function(t,e){return"l"+e}),t.append("text").attr("id",(t,e)=>"t"+e).attr("x",1.5*s).attr("y",s/3).attr("class","chart-subtitle").text(function(t){return t}),"rect"===u?t.append("rect").attr("width",1.25*s).attr("height",s/1.5).attr("class","rects").attr("x",0).attr("y",-s/3).style("fill",t=>o(t)):"line"===u?t.append("line").attr("stroke",t=>o(t)).attr("x1",0).attr("x2",s).attr("y1",0).attr("y2",0).attr("class","lines"):"circ"===u&&t.append("circle").style("fill",t=>o(t)).attr("cx",s-s/2.5).attr("cy",0).attr("r",s/2.5).attr("class","circs"),t.attr("transform",function(t,n){if("hori"===d){var a=e.select("#l0").node().getBBox().height;if(n>0)var i=e.select("#l"+(n-1)).node().getBBox().width+1.25*s;else i=0;return"translate("+(r+=i)+","+a/2+")"}return"translate(0,"+n*s*1.2+")"})}e.selectAll("#legend").on("mouseover",n).call(e.drag().on("start",a).on("drag",i).on("end",l))}function n(){this.style.cursor="pointer"}function a(t){e.select(this).raise().classed("active",!0)}function i(t){e.select(this).attr("transform","translate("+e.event.x+", "+e.event.y+")")}function l(t){e.select(this).classed("active",!1)}let c=[];const o=e.scaleOrdinal().range(r.lineWeb).domain(c);let s=10,d="hori",u="circ";return t.seriesNames=(e=>(c=e,t)),t.colourPalette=(e=>("social"===e||"video"===e?o.range(r.lineSocial):"webS"===e||"webM"===e||"webL"===e?"circ"===u||"line"===u?o.range(r.lineWeb):o.range(r.categorical_bar):"print"===e&&o.range(r.linePrint),t)),t.rem=(e=>e?(s=e,t):s),t.alignment=(e=>(d=e,t)),t.geometry=(e=>(u=e,t)),t},Object.defineProperty(t,"__esModule",{value:!0})});